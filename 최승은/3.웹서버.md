# 3. 웹 서버(Web Server)

## 3-1. 정의와 역할

* **정의**: 클라이언트(브라우저)로부터 들어오는 **HTTP 요청(Request)** 을 받아 **정적 콘텐츠**(HTML, CSS, JS, 이미지 등)를 응답하는 서버 소프트웨어.
* **핵심 역할**:

  1. 정적 파일 제공 (Static Content Serving)
  2. 보안(HTTPS, 인증서 관리)
  3. 트래픽 관리 (로드 밸런싱, 리버스 프록시)
  4. 캐싱 및 압축 (성능 최적화)
  5. WAS(애플리케이션 서버)와 협력하여 동적 콘텐츠 전달

즉, **"웹 서버 = 클라이언트와 서버 사이의 첫 관문"** 이다.

## 3-2. 정적 파일 처리

* **정적 파일(Static File)**: 실행 과정 없이 그대로 전달되는 리소스

  * HTML: 문서 구조
  * CSS: 스타일
  * JS: 클라이언트 실행 스크립트
  * 이미지, 동영상, 폰트 등

### 처리 과정

1. 브라우저가 `/index.html` 요청
2. 웹 서버가 파일 시스템에서 해당 파일을 찾음
3. 그대로 Response Body에 담아 반환
4. 브라우저가 해석/렌더링

→ 이 과정에서 **WAS 호출 없이 빠르게 처리** 가능 → 성능 최적화

### 추가 기능

* **압축 (Gzip, Brotli)**: 네트워크 전송량 절감
* **캐싱(Cache-Control, ETag)**: 브라우저 재사용 → 응답 속도 향상
* **MIME 타입 지정**: 파일 형식에 맞는 Content-Type 헤더 세팅

## 3-3. 대표 소프트웨어

### Apache HTTP Server

* 가장 오래된 웹 서버, 모듈 기반 확장성 풍부
* `.htaccess` 파일을 통한 세부 설정 가능
* 장점: 안정성, 커뮤니티 지원
* 단점: 프로세스 기반 구조라 동시접속 처리에 비효율적

### Nginx

* 이벤트 기반 아키텍처 → 동시 처리 성능 우수
* 정적 파일 제공 속도가 매우 빠름
* 리버스 프록시, 로드밸런서 기능 기본 제공
* 현재 대부분의 대규모 서비스에서 채택 (Netflix, GitHub 등)

→ 실무 기준:

* **Apache**: 전통적인 LAMP(Linux, Apache, MySQL, PHP) 환경
* **Nginx**: 현대적인 고성능 서버, Node.js·Spring Boot와 자주 조합

## 3-4. 리버스 프록시(Reverse Proxy) 개념

### 프록시(Proxy) 기본

* **Forward Proxy**: 클라이언트 앞단에서 대리 요청 (예: 회사 내부망 프록시 서버, VPN)
* **Reverse Proxy**: 서버 앞단에서 클라이언트 요청을 받아 실제 서버로 전달

### 리버스 프록시 동작 방식

```
[Client] → [Reverse Proxy (Nginx)] → [WAS, DB 등 내부 서버]
```

1. 클라이언트는 프록시 서버에 요청
2. 프록시가 내부 애플리케이션 서버(WAS)에 전달
3. 응답을 다시 클라이언트에 반환

### 리버스 프록시 역할

* **보안**: 내부 서버 IP 노출 방지
* **로드 밸런싱**: 트래픽을 여러 서버에 분산
* **SSL 처리**: 인증서를 프록시에서 통합 관리
* **캐싱**: 자주 쓰는 응답을 미리 저장해 성능 개선

## 3-5. 핵심 요약

* 웹 서버는 **정적 콘텐츠 제공과 요청 라우팅**이 주 역할이다.
* Apache와 Nginx가 대표적이며, 최근에는 **Nginx가 사실상 표준**처럼 쓰인다.
* **리버스 프록시**는 현대 웹 아키텍처에서 거의 필수적 요소 → 보안, 부하 분산, SSL 관리 담당.
* 따라서 실무에서는 `클라이언트 → Nginx(Web Server + Reverse Proxy) → WAS(Spring, Node.js 등) → DB` 구조가 흔하다.
