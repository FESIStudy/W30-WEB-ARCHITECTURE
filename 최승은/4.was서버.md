# 4. 애플리케이션 서버(WAS)

## 4-1. 정의와 역할

* **WAS (Web Application Server)** = 웹 애플리케이션 실행을 담당하는 서버 소프트웨어.
* 단순히 정적 파일만 제공하는 웹 서버와 달리, **동적 컨텐츠 처리**와 **비즈니스 로직 수행**이 핵심.

**주요 역할**:

1. 클라이언트 요청을 받아 비즈니스 로직 실행
2. DB와 연동하여 필요한 데이터 조회/가공
3. 응답 데이터를 HTML, JSON, XML 등으로 생성
4. 세션 관리, 보안, 트랜잭션 처리

즉, **"사용자의 요청을 로직과 데이터로 풀어서 맞춤형 응답을 만들어주는 뇌 역할"** 이다.

## 4-2. 동적 콘텐츠 처리

* **정적 콘텐츠**: 단순 파일 응답 (웹 서버에서 처리)
* **동적 콘텐츠**: 사용자 입력, 데이터베이스 상태, 로직 결과에 따라 달라지는 응답

### 예시

1. 사용자가 로그인 폼 제출 (ID/PW 입력)
2. WAS가 DB와 연동해 사용자의 자격 확인
3. 성공 시 세션/토큰 발급, 사용자 맞춤 페이지 생성
4. 실패 시 에러 응답 반환

→ 이 과정이 바로 **WAS의 존재 이유**.

## 4-3. 대표 소프트웨어

### Tomcat

* Java 기반 Servlet/JSP 컨테이너
* Spring Framework와 함께 자주 사용
* 경량 WAS로, Java EE 전체 스펙은 지원하지 않음

### Node.js (Express / NestJS)

* JavaScript 런타임(Node.js) 위에 올린 서버 프레임워크
* **Express**: 최소한의 구조 → 빠른 프로토타이핑
* **NestJS**: 구조화된 아키텍처 → 대규모 프로젝트에 적합

### Spring Boot

* Java/Spring Framework 기반 WAS
* 내장 Tomcat, Jetty, Undertow 실행 가능
* 엔터프라이즈 환경에서 가장 많이 쓰이는 스택

## 4-4. 웹 서버와의 협력 구조

### 기본 협력 방식

```
[Client] → [Web Server(Nginx)] → [WAS(Spring Boot, Node.js, Tomcat)] → [DB]
```

1. 클라이언트가 `example.com/login` 요청
2. **웹 서버**:

   * 정적 파일 요청이면 직접 응답 (`index.html`, `style.css`)
   * 동적 요청이면 WAS로 전달 (Reverse Proxy)
3. **WAS**:

   * 비즈니스 로직 실행 (로그인 검증, 주문 처리, API 응답 생성)
   * DB와 연동 후 결과 반환
4. 웹 서버가 WAS의 응답을 받아 클라이언트에 전달

## 4-5. 실무 포인트

* 성능 최적화: 정적 리소스는 웹 서버에서 처리하고, 동적 로직은 WAS로 위임
* 확장성: 웹 서버 앞단에 리버스 프록시/로드 밸런서를 두고, 뒤에 여러 WAS 서버를 붙여 수평 확장 가능
* 보안: WAS는 외부에 직접 노출하지 않고, 항상 **웹 서버 뒤에 숨기는 구조**가 일반적

## 4-6. 핵심 요약

* **웹 서버**: 정적 리소스 처리, 요청 라우팅, 리버스 프록시
* **WAS**: 동적 콘텐츠 처리, DB 연동, 비즈니스 로직 실행
* **대표 WAS**: Tomcat(Java), Spring Boot(Java), Node.js(Express/NestJS)
* **협력 구조**: 클라이언트 요청 → 웹 서버 → WAS → DB → 응답
시 내가 이 부분을 정리할 때, \*\*"단일 서버(웹 서버+WAS 통합)" vs **"분리된 서버(웹 서버 + WAS 분리)"** 구조를 비교 그림으로 그려줄까?
