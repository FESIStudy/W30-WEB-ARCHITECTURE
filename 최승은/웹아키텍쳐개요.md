# 1. 웹 아키텍처 개요

## 1-1. 웹 서비스의 기본 동작 원리

웹 서비스는 **클라이언트(Client)** 와 **서버(Server)** 가 네트워크를 통해 데이터를 주고받으며 동작한다.

* **클라이언트(Client)**: 사용자의 브라우저(Chrome, Safari, Edge 등) 또는 앱. HTML, CSS, JS를 받아 화면에 렌더링한다.
* **서버(Server)**: 클라이언트 요청(Request)을 받아 필요한 데이터를 가공해 응답(Response)한다.
* **DB(Database)**: 서버가 필요한 데이터를 보관하는 저장소.

흐름은 다음과 같다:

1. 사용자가 브라우저에 URL 입력 → DNS 조회를 통해 서버의 IP 주소 획득
2. 브라우저가 서버에 **HTTP/HTTPS Request** 전송
3. 서버가 요청에 따라 정적 파일 또는 동적 데이터를 준비
4. 필요한 경우 DB에서 데이터 조회 및 가공
5. 서버가 **HTTP/HTTPS Response**로 결과 반환
6. 브라우저가 응답 내용을 렌더링하여 화면에 표시

## 1-2. 클라이언트 ↔ 서버 ↔ DB 개념

* **클라이언트(Client)**

  * 웹 브라우저 또는 모바일 앱
  * 사용자는 직접 UI를 조작 → 요청 생성
  * JS 엔진이 서버와 API 통신(AJAX, Fetch, Axios, GraphQL 등) 수행

* **서버(Server)**

  * 요청을 해석하고 비즈니스 로직 실행
  * 두 가지 역할:

    * **웹 서버(Web Server)**: 정적 자원(HTML, CSS, JS, 이미지) 반환
    * **WAS(Application Server)**: 동적 로직 처리, DB와 연동

* **데이터베이스(DB)**

  * 영속성 있는 데이터 저장소
  * SQL 기반 RDBMS(MySQL, PostgreSQL) 또는 NoSQL(MongoDB, Redis)
  * 서버가 SQL 쿼리나 ORM을 통해 접근

---

## 1-3. 요청(Request) / 응답(Response) 라이프사이클

브라우저에서 URL 입력 후 화면이 뜨기까지의 과정을 단계별로 살펴보면:

1. **DNS 조회**

   * `www.example.com` → DNS 서버에서 해당 도메인의 IP 주소를 반환
   * 브라우저가 IP를 통해 대상 서버 위치 확인

2. **TCP 3-way Handshake**

   * 브라우저와 서버 간 연결 성립 (TCP 기반이라면)
   * 보안 연결(HTTPS)인 경우 TLS Handshake 추가

3. **Request 전송**

   * 브라우저가 서버로 HTTP Request 전달
   * 구성 요소:

     * 요청 라인: `GET /index.html HTTP/1.1`
     * 헤더(Header): User-Agent, Cookie, Accept 등
     * 바디(Body): POST/PUT 시 전달되는 데이터

4. **서버 처리 단계**

   * 웹 서버(Nginx, Apache)가 요청을 우선 수신
   * 정적 파일이면 직접 응답
   * 동적 요청이라면 WAS로 전달 → 비즈니스 로직 실행
   * DB와 연동하여 필요한 데이터 조회 및 가공

5. **Response 생성**

   * 서버는 HTTP Response를 생성
   * 구성 요소:

     * 상태 코드(Status Code): 200 OK, 404 Not Found, 500 Internal Server Error 등
     * 헤더(Header): Content-Type, Set-Cookie, Cache-Control 등
     * 바디(Body): HTML, JSON, 파일 데이터 등

6. **브라우저 렌더링 과정**

   * HTML 파싱 → DOM 생성
   * CSS 파싱 → CSSOM 생성
   * JS 실행 → 동적 조작
   * 렌더 트리(Render Tree) 구성 후 페인팅(Paint)

---

## 1-4. 그림으로 보는 요청/응답 흐름

```
[Client Browser]
     |
     v
[HTTP Request]
     |
     v
[Web Server] ─── 정적 자원 처리 ───> 응답 반환
     |
     v
[Application Server (WAS)]
     |
     v
[Database] ⇄ [쿼리 수행/데이터 가공]
     |
     v
[Response 생성 후 Client에 전달]
```

## 1-5. 핵심 요약

* **웹 서비스는 "클라이언트 ↔ 서버 ↔ DB" 삼각 구조**로 동작한다.
* **요청/응답 라이프사이클**은 DNS 조회 → TCP/TLS 연결 → Request → 서버 처리(DB 연동 포함) → Response → 브라우저 렌더링 단계로 이어진다.
* 서버는 **정적 콘텐츠는 웹 서버, 동적 콘텐츠는 WAS**가 처리하며, DB는 데이터의 영속성을 담당한다.
* 결국 \*\*"브라우저가 요청 → 서버가 가공 → DB에서 조회 → 서버가 응답 → 브라우저 렌더링"\*\*이라는 큰 흐름이 웹 아키텍처의 기본 골격이다.
